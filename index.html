<!DOCTYPE html>
<html>
  <head>
    
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia&effect=neon|outline|emboss|shadow-multiple">
    
  </head>
  <body class ="bg-image">
    
      <h1 class="font-effect-emboss">Απο:</h1> <input type="text" id="name"><br>
      <h1 class="font-effect-emboss">Προς:</h2> <input type="text" id="recipient"><br>
      <h1 class="font-effect-emboss"class="font-effect-shadow-multiple">Ραβασάκι:</h1> <textarea id="message"></textarea><br>
      <button id="submit-btn">Send</button>
   


    <script>
        
        $("#submit-btn").click(function(){
        var name = $("#name").val();
        var recipient = $("#recipient").val();
        var message = $("#message").val();
        
        if (name == "" || recipient == "" || message == "") {
        alert("Τα πεδία είναι κενά.");
        return;
        }


        var data = {sender: name, reciever: recipient, message: message};


        $.ajax({
            type: "POST",
            url: "https://noobcms.store/message/send",
            data: JSON.stringify(data),
            contentType: "application/json",

            success: function(response){
            console.log("Success: " + JSON.stringify(response));
            $("#name").val("");
            $("#recipient").val("");
            $("#message").val("");
            alert("Το μήνυμα εστάλη!");
            },

            error: function(xhr, status, error){
            console.log("Error: " + JSON.stringify(error));
            alert("Κάτι πήγε λάθος!");
            }
        });
        });
    
      </script>


  </body>
</html>

